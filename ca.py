import tensorflow as tf
import numpy as np
import streamlit as st
from PIL import Image
import cv2


def app():                       
    filters = st.sidebar.selectbox("Select filters",("Pencil Sketch","Detail Enhancement","Bilateral Filter","Pencil Edges","White Box"))
    st.title(filters)
    st.image("data:image/jpeg;base64,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")
    def resize_crop(image):
        h, w, c = np.shape(image)
        if min(h, w) > 720:
            if h > w:
                h, w = int(720*h/w), 720
            else:
                h, w = 720, int(720*w/h)
        image = cv2.resize(image, (w, h),interpolation=cv2.INTER_AREA)
        h, w = (h//8)*8, (w//8)*8
        image = image[:h, :w, :]
        return image
    image = st.file_uploader("Choose an image...", type="jpg") 
    if image is not None:
        image = Image.open(image)
        image = np.array(image)
        if filters == "Pencil Sketch":      
            st.write("Image will be converted into a sketch as if your image has been drawn using a pencil. ")         
            gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
            gray_blur = cv2.GaussianBlur(gray, (25, 25), 0)
            cartoon = cv2.divide(gray, gray_blur, scale=250.0)
            st.image(cartoon)
        elif filters == "Detail Enhancement":                    
            st.write("A cartoon effect by sharpening the image, smoothing the colors, and enhancing the edges. ")
            gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
            gray_blur = cv2.medianBlur(gray, 3)
            edges = cv2.adaptiveThreshold(gray_blur, 255, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, 9, 9)
            color = cv2.detailEnhance(image, sigma_s=5, sigma_r=0.5)
            cartoon = cv2.bitwise_and(color, color, mask=edges) 
            st.image(cartoon)
            
        elif filters == "Bilateral Filter":                
            st.write("smooth the image and the colors while preserving the edge at the same time.")
            gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
            gray_blur = cv2.medianBlur(gray, 3)
            edges = cv2.adaptiveThreshold(gray_blur, 255, cv2.ADAPTIVE_THRESH_MEAN_C, cv2.THRESH_BINARY, 9, 9)
            color = cv2.bilateralFilter(image, 5, 50, 5)
            cartoon = cv2.bitwise_and(color, color, mask=edges) 
            st.image(cartoon)
            
        elif filters == "Pencil Edges":                           
            st.write("Pencil Edges filter creates a new image that contains only significant edges and white background. ")
            gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
            gray = cv2.medianBlur(gray, 25) 
            edges = cv2.Laplacian(gray, -1, ksize=3)
            edges_inv = 255-edges
            dummy, cartoon = cv2.threshold(edges_inv, 170, 255, cv2.THRESH_BINARY)
            st.image(cartoon)
            
        else:   
            interpreter = tf.lite.Interpreter(model_path="cartoon_gan.tflite")
            interpreter.allocate_tensors()
            input_details = interpreter.get_input_details()
            output_details = interpreter.get_output_details()
            input_shape = input_details[0]['shape']
            image = cv2.resize(image, (256, 256),interpolation=cv2.INTER_CUBIC)
            image = image.astype(np.float32)/127.5 - 1
            image = image.reshape(input_shape)
            interpreter.set_tensor(input_details[0]['index'], image)
            interpreter.invoke()
            output = interpreter.get_tensor(output_details[0]['index'])
            output = (np.squeeze(output)+1)*127.5
            output = np.clip(output, 0, 255)
            cv2.imwrite('image.jpg',output)
            st.image('image.jpg')
            
        